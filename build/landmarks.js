(()=>{"use strict";var e={};function t(t){const n=e.classPrefix;switch(t){case"Forms":return n+"0";case"Headings":return n+"1";case"Images":return n+"2";case"Landmarks":return n+"3";case"Lists":return n+"4";case"Interactive":return n+"5"}return"unrecognizedName"}function n(e,t){return"function"==typeof e.closest&&t.some((t=>null!==e.closest(t)))}Object.defineProperty(e,"classPrefix",{value:"a11yGfdXALm"}),Object.defineProperty(e,"globalPrefix",{value:"a11y"}),Object.defineProperty(e,"title",{value:"a11y-tools/bookmarklets-lib"}),Object.defineProperty(e,"version",{value:"0.3.0"});var r=["application","banner","complementary","contentinfo","form","main","navigation","search","alert","alertdialog","button","checkbox","dialog","gridcell","link","log","marquee","menuitem","menuitemcheckbox","menuitemradio","option","progressbar","radio","scrollbar","searchbox","slider","spinbutton","status","switch","tab","tabpanel","textbox","timer","tooltip","treeitem","combobox","grid","listbox","menu","menubar","radiogroup","tablist","tree","treegrid","article","cell","columnheader","definition","directory","document","group","heading","img","list","listitem","math","none","note","presentation","region","row","rowgroup","rowheader","separator","table","text","toolbar"];function o(e){let t=e.tagName.toLowerCase(),o=e.type;if(e.hasAttribute("role"))return function(e){let t=e.split(" ");for(let e=0;e<t.length;e++){let n=t[e].toLowerCase(),o=r.find((e=>e===n));if(o)return o}return null}(s(e,"role"));switch(t){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"article":return"article";case"aside":return"complementary";case"body":return"document";case"button":case"summary":return"button";case"datalist":case"select":return"listbox";case"details":case"fieldset":return"group";case"dialog":return"dialog";case"dl":case"ol":case"ul":return"list";case"footer":if(!n(e,["article","section"]))return"contentinfo";break;case"form":return"form";case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"heading";case"header":if(!n(e,["article","section"]))return"banner";break;case"hr":return"separator";case"img":if(!function(e){let t=e.getAttribute("alt");return null!==t&&0===i(t).length}(e))return"img";break;case"input":if("button"===o)return"button";if("checkbox"===o)return"checkbox";if("email"===o)return e.hasAttribute("list")?"combobox":"textbox";if("image"===o)return"button";if("number"===o)return"spinbutton";if("password"===o)return"textbox";if("radio"===o)return"radio";if("range"===o)return"slider";if("reset"===o)return"button";if("search"===o)return e.hasAttribute("list")?"combobox":"textbox";if("submit"===o)return"button";if("tel"===o)return e.hasAttribute("list")?"combobox":"textbox";if("text"===o)return e.hasAttribute("list")?"combobox":"textbox";if("url"===o)return e.hasAttribute("list")?"combobox":"textbox";break;case"li":if(function(e,t){let n=e.parentElement.tagName.toLowerCase();return!!n&&["ol","ul"].some((e=>n===e))}(e))return"listitem";break;case"main":return"main";case"menu":if("toolbar"===o)return"toolbar";break;case"menuitem":if("command"===o)return"menuitem";if("checkbox"===o)return"menuitemcheckbox";if("radio"===o)return"menuitemradio";break;case"meter":case"progress":return"progressbar";case"nav":return"navigation";case"option":if(function(e){let t=e.parentElement,n=t.tagName.toLowerCase(),r=t.parentElement.tagName.toLowerCase();return"select"===n||"optgroup"===n&&"select"===r||"datalist"===n}(e))return"option";break;case"output":return"status";case"section":return"region";case"tbody":case"tfoot":case"thead":return"rowgroup";case"textarea":return"textbox";case"th":return"columnheader"}return null}function a(e){return i(e.value)}function l(e){let t;return t=s(e,"aria-valuetext"),t.length?t:(t=s(e,"aria-valuenow"),t.length?t:a(e))}function i(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").replace(/\s+/g," ")}function s(e,t){let n=e.getAttribute(t);return null===n?"":i(n)}function c(e){let t=e.tagName.toLowerCase(),n=e.type;switch(t){case"input":return"hidden"!==n;case"button":case"keygen":case"meter":case"output":case"progress":case"select":case"textarea":return!0;default:return!1}}function u(e,t){let n=t,r=getComputedStyle(e,":before").content,o=getComputedStyle(e,":after").content;return"none"!==r&&(n=r+n),"none"!==o&&(n+=o),n}function d(e,t){let n="";if(e===t)return"";switch(e.nodeType){case Node.ELEMENT_NODE:if(function(e){switch(e.tagName.toLowerCase()){case"img":case"area":return!0;case"input":return e.type&&"image"===e.type}return!1}(e))n=s(e,"alt");else if(function(e){let t=o(e);return-1!==["textbox","combobox","listbox","slider","spinbutton"].indexOf(t)}(e))n=function(e){switch(o(e)){case"textbox":return function(e){let t=e.tagName.toLowerCase(),n=e.type;return"input"===t&&-1!==["email","password","search","tel","text","url"].indexOf(n)||"textarea"===t?a(e):""}(e);case"combobox":return function(e){let t=e.tagName.toLowerCase(),n=e.type;return"input"===t&&-1!==["email","search","tel","text","url"].indexOf(n)?a(e):""}(e);case"listbox":return function(e){if("select"===e.tagName.toLowerCase()){let t=[],n=e.selectedOptions;for(let e=0;e<n.length;e++){let r=i(n[e].value);r.length&&t.push(r)}if(t.length)return t.join(" ")}return""}(e);case"slider":return function(e){let t=e.tagName.toLowerCase(),n=e.type;return"input"===t&&"range"===n?l(e):""}(e);case"spinbutton":return function(e){let t=e.tagName.toLowerCase(),n=e.type;return"input"===t&&"number"===n?l(e):""}(e)}return""}(e);else if(e.hasChildNodes()){let r=e.childNodes,o=[];for(let e=0;e<r.length;e++){let n=d(r[e],t);n.length&&o.push(n)}n=o.length?o.join(" "):""}n=u(e,n);break;case Node.TEXT_NODE:n=i(e.textContent)}return n}function f(e,t){let n="";if(e.hasChildNodes()){let r=e.childNodes,o=[];for(let e=0;e<r.length;e++){let n=d(r[e],t);n.length&&o.push(n)}n=o.length?o.join(" "):""}return u(e,n)}function m(e,t){let n;return n=s(e,t),n.length?{name:n,source:t}:null}function p(e){let t=e.getAttribute("alt");return null!==t?(t=i(t),t.length?{name:t,source:"alt"}:{name:"<empty>",source:"alt"}):null}function h(e){let t;return t=f(e),t.length?{name:t,source:"contents"}:null}function b(e){return e.length?{name:e,source:"default"}:null}function g(e,t){let n=e.querySelector(t);if(n){let e=f(n);if(e.length)return{name:e,source:t+" element"}}return null}function y(e){let t,n;return e.id&&(n=document.querySelector('[for="'+e.id+'"]'),n&&(t=f(n,e),t.length))?{name:t,source:"label reference"}:"function"==typeof e.closest&&(n=e.closest("label"),n&&(t=f(n,e),t.length))?{name:t,source:"label encapsulation"}:null}function w(e,t){let n=e.tagName.toLowerCase(),r=o(e),a=null;if(r&&("presentation"===r||"none"===r))return null;switch(n){case"input":switch(e.type){case"hidden":t&&(a=y(e));break;case"email":case"password":case"search":case"tel":case"text":case"url":a=y(e),null===a&&(a=m(e,"placeholder"));break;case"button":a=m(e,"value");break;case"reset":a=m(e,"value"),null===a&&(a=b("Reset"));break;case"submit":a=m(e,"value"),null===a&&(a=b("Submit"));break;case"image":a=p(e),null===a&&(a=m(e,"value"));break;default:a=y(e)}break;case"button":case"label":case"a":a=h(e);break;case"keygen":case"meter":case"output":case"progress":case"select":a=y(e);break;case"textarea":a=y(e),null===a&&(a=m(e,"placeholder"));break;case"audio":case"embed":case"object":case"video":a={name:"NOT YET IMPLEMENTED",source:""};break;case"iframe":a=m(e,"title");break;case"img":case"area":a=p(e);break;case"svg":a=g(e,"title");break;case"details":a=function(e){let t,n;if(n=e.querySelector("summary"),n&&(t=f(n)),e.hasAttribute("open")){if(t+=function(e,t){let n,r=[];return Array.prototype.forEach.call(e.childNodes,(function(e){switch(e.nodeType){case Node.ELEMENT_NODE:"summary"!==e.tagName.toLowerCase()&&(n=f(e),n.length&&r.push(n));break;case Node.TEXT_NODE:n=i(e.textContent),n.length&&r.push(n)}})),r.length?r.join(" "):""}(e),t.length)return{name:t,source:"contents"}}else if(t.length)return{name:t,source:"summary element"};return null}(e);break;case"figure":a=g(e,"figcaption");break;case"table":a=g(e,"caption");break;default:(function(e){let t=o(e);return null!==t&&void 0!==["button","cell","checkbox","columnheader","directory","gridcell","heading","link","listitem","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowgroup","rowheader","switch","tab","text","tooltip","treeitem"].find((e=>e===t))}(e)||t)&&(a=h(e))}return null===a&&(a=m(e,"title")),a}function x(e,t){let n,r,o,a,l=s(e,t),i=[];if(l.length)for(n=l.split(" "),r=0;r<n.length;r++)o=document.getElementById(n[r]),o&&(a=v(o,!0),a&&a.name.length&&i.push(a.name));return i.length?{name:i.join(" "),source:t}:null}function v(e,t){let n=null;return t||(n=x(e,"aria-labelledby")),null===n&&(n=m(e,"aria-label")),null===n&&(n=w(e,t)),n}function N(){let e;return{x:void 0===window.pageXOffset?(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.ScrollLeft?e:document.body).ScrollLeft:window.pageXOffset,y:void 0===window.pageYOffset?(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.ScrollTop?e:document.body).ScrollTop:window.pageYOffset}}var E=1e5;function L(e){let t=e.targetList,n=e.cssClass,r=e.getInfo,o=e.evalInfo,a=e.dndFlag,l=0;return t.forEach((function(e){let t=document.querySelectorAll(e.selector);"function"==typeof e.filter&&(t=Array.prototype.filter.call(t,e.filter)),Array.prototype.forEach.call(t,(function(t){if(function(e){return function e(t){if(t.nodeType===Node.DOCUMENT_NODE)return!0;let n=window.getComputedStyle(t,null),r=n.getPropertyValue("display"),o=n.getPropertyValue("visibility"),a=t.getAttribute("hidden"),l=t.getAttribute("aria-hidden");return"none"!==r&&"hidden"!==o&&null===a&&"true"!==l&&e(t.parentNode)}(e)}(t)){let i=r(t,e);o&&o(i,e);let s=t.getBoundingClientRect(),c=function(e,t,n){let r=N(),o=document.createElement("div");o.setAttribute("class",[n,"oaa-element-overlay"].join(" ")),o.startLeft=t.left+r.x+"px",o.startTop=t.top+r.y+"px",o.style.left=o.startLeft,o.style.top=o.startTop,o.style.width=Math.max(t.width,68)+"px",o.style.height=Math.max(t.height,27)+"px",o.style.borderColor=e.color,o.style.zIndex=E;let a=document.createElement("div");return a.setAttribute("class","oaa-overlay-label"),a.style.backgroundColor=e.color,a.innerHTML=e.label,o.appendChild(a),o}(e,s,n);a&&function(e){function t(e){e.style.zIndex=E+=100}let n=e.firstChild;n.onmousedown=function(e){!function(e,t,n){let r=N(),o=n.clientX+r.x,a=n.clientY+r.y,l=e.offsetLeft,i=e.offsetTop,s=o-l,c=a-i;function u(t){t||(t=window.event);let n=N();e.style.left=t.clientX+n.x-s+"px",e.style.top=t.clientY+n.y-c+"px",e.style.cursor="move",t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function d(t){t||(t=window.event),e.style.cursor="grab",e.style.cursor="-moz-grab",e.style.cursor="-webkit-grab",document.removeEventListener?(document.removeEventListener("mouseup",d,!0),document.removeEventListener("mousemove",u,!0)):document.detachEvent&&(e.detachEvent("onlosecapture",d),e.detachEvent("onmouseup",d),e.detachEvent("onmousemove",u),e.releaseCapture()),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}t&&t(e),document.addEventListener?(document.addEventListener("mousemove",u,!0),document.addEventListener("mouseup",d,!0)):document.attachEvent&&(e.setCapture(),e.attachEvent("onmousemove",u),e.attachEvent("onmouseup",d),e.attachEvent("onlosecapture",d)),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,n.preventDefault?n.preventDefault():n.returnValue=!1}(this.parentNode,t,e)},n.ondblclick=function(e){var t;(t=this.parentNode).style.left=t.startLeft,t.style.top=t.startTop}}(c),c.firstChild.title=function(e){let t="",n=e.title,r=e.element,o=e.grpLabels,a=e.accName,l=e.accDesc,i=e.role,s=e.props;if(t+="=== "+n+" ===",r&&(t+="\nELEMENT: "+r),o&&o.length)for(let e=o.length-1;e>=0;e--)t+="\nGRP. LABEL: "+o[e].name+"\nFROM: "+o[e].source;return a&&(t+="\nACC. NAME: "+a.name+"\nFROM: "+a.source),l&&(t+="\nACC. DESC: "+l.name+"\nFROM: "+l.source),i&&(t+="\nROLE: "+i),s&&(t+="\nPROPERTIES: "+s),t}(i),document.body.appendChild(c),l+=1}}))})),l}function C(e){let t="div."+e,n=document.querySelectorAll(t);Array.prototype.forEach.call(n,(function(e){document.body.removeChild(e)}))}function A(e){let t=window.innerWidth/3.2,n=window.innerWidth/2-t/2,r=N();e.style.width=t+"px",e.style.left=r.x+n+"px",e.style.top=r.y+30+"px"}function k(){this.GLOBAL_NAME="a11yMessageDialog",this.CSS_CLASS="oaa-message-dialog"}function O(t){let n=(r=t.appName,e.globalPrefix+r);var r;if("object"==typeof window[n])return window[n];this.appName=t.appName,this.cssClass=t.cssClass,this.msgText=t.msgText,this.params=t,this.show=!1;let o=new k;window.addEventListener("resize",(e=>{C(this.cssClass),o.resize(),this.show=!1})),window[n]=this,function(t){console.log(e.title+" : v"+e.version+" : "+t)}(this.appName)}function T(e,t){this.title=t,this.element=function(e){let t=e.tagName.toLowerCase(),n=t;if("input"===t){let t=e.type;t&&t.length&&(n+=' [type="'+t+'"]')}if("label"===t){let t=s(e,"for");t.length&&(n+=' [for="'+t+'"]')}if(c(e)){let t=e.id;t&&t.length&&(n+=' [id="'+t+'"]')}if(e.hasAttribute("role")){let t=s(e,"role");t.length&&(n+=' [role="'+t+'"]')}return n}(e),this.grpLabels=function(e){return c(e)?function(e){let t=[];return"function"!=typeof e.closest||function e(t,n){let r=t.closest("fieldset");if(r){let t=r.querySelector("legend");if(t){let e=f(t);e.length&&n.push({name:e,source:"fieldset/legend"})}e(r.parentNode,n)}}(e,t),t}(e):[]}(e),this.accName=v(e),this.accDesc=function(e,t){let n=null;return n=x(e,"aria-describedby"),null===n&&(n=m(e,"title")),n}(e),this.role=o(e),function(e,t){if(null===e||null===t)return!1;let n=e.name,r=t.name;return"string"==typeof n&&"string"==typeof r&&n.toLowerCase().includes(r.toLowerCase())}(this.accName,this.accDesc)&&(this.accDesc=null)}k.prototype.show=function(e,t){const n=this.GLOBAL_NAME;let r,o;window[n]||(window[n]=function(e,t){let n=document.createElement("div"),r=document.createElement("button");return n.className=e,A(n),r.onclick=t,n.appendChild(r),document.body.appendChild(n),n}(this.CSS_CLASS,(e=>this.hide()))),r=document.createElement("h2"),r.innerHTML=e,window[n].appendChild(r),o=document.createElement("div"),o.innerHTML=t,window[n].appendChild(o)},k.prototype.hide=function(){const e=this.GLOBAL_NAME;var t;window[e]&&((t=window[e])&&document.body.removeChild(t),delete window[e])},k.prototype.resize=function(){const e=this.GLOBAL_NAME;window[e]&&A(window[e])},O.prototype.run=function(){let e=new k;e.hide(),this.show=!this.show,this.show?0===L(this.params)&&(e.show(this.appName,this.msgText),this.show=!1):C(this.cssClass)},T.prototype.addProps=function(e){this.props=e},function(){Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],a=0;a<r;a++)if(t=n[a],e.call(o,t,a,n))return t}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)});let e=[{selector:'aside:not([role]), [role~="complementary"], [role~="COMPLEMENTARY"]',color:"maroon",label:"complementary"},{selector:'footer, [role~="contentinfo"], [role~="CONTENTINFO"]',filter:function(e){return"footer"!==e.tagName.toLowerCase()||!n(e,["article","section"])},color:"olive",label:"contentinfo"},{selector:'[role~="application"], [role~="APPLICATION"]',color:"black",label:"application"},{selector:'nav, [role~="navigation"], [role~="NAVIGATION"]',color:"green",label:"navigation"},{selector:'[role~="region"][aria-labelledby], [role~="REGION"][aria-labelledby]',color:"teal",label:"region"},{selector:'[role~="region"][aria-label], [role~="REGION"][aria-label]',color:"teal",label:"region"},{selector:"section[aria-labelledby], section[aria-label]",color:"teal",label:"region"},{selector:'header, [role~="banner"], [role~="BANNER"]',filter:function(e){return"header"!==e.tagName.toLowerCase()||!n(e,["article","section"])},color:"gray",label:"banner"},{selector:'[role~="search"], [role~="SEARCH"]',color:"purple",label:"search"},{selector:'main, [role~="main"], [role~="MAIN"]',color:"navy",label:"main"}],r=e.map((function(e){return"<li>"+e.selector+"</li>"})).join("");return new O({appName:"Landmarks",cssClass:t("Landmarks"),msgText:"No elements with ARIA Landmark roles found: <ul>"+r+"</ul>",targetList:e,getInfo:function(e,t){return new T(e,"LANDMARK INFO")},dndFlag:!0})}().run()})();